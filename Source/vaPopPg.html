<!--copyright notice	*************************************************
 * 
 * 	Original Project: VoluniApp
 * 	Original File: vaPopPg.html
 * 	Copyright (C) 2012 Marco Jacopo Ferrarotti All Rights Reserved.
 * 	Contact: marco.ferrarotti@gmail.com
 * 	
 * 	If you want to redistribute this program, preserve this copyright
 * 	notice and add your own notice above.	
 * 
 ***copying permission	*************************************************
 *
 *	This file is part of VoluniApp.
 *
 *  VoluniApp is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  VoluniApp is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with VoluniApp.  If not, see <http://www.gnu.org/licenses/>.
 *  
 *********************************************************************-->

<html>
<head>
	<style type="text/css">
		body {
			width:640px;
		}
		
		.volCol {
			background-color: #1E8BD7;
			color: #FFF;
			font-family: AsapRegular, Arial, Helvetica, sans-serif;
		}
		
		.volColEx {
			background-color: #F95325;
			color: #FFF;
			font-family: AsapRegular, Arial, Helvetica, sans-serif;
		}
		
		td {
			background-color: #FFFFFF;
			color: #000;
			font-family: AsapRegular, Arial, Helvetica, sans-serif;
			text-align: left
		}
		
	</style>
	<script type="text/javascript" src="jquery-1.7.2.js"></script>
	<script type="text/javascript" src="VoluniAppPref.js"></script>
	
	<script>
		function setPref(pref,val) {
			var msg = new Object();
			msg["msg"] = "chgLS";
			
			switch(pref) {
			case VoluniAppPref.ACTI:
				msg[VoluniAppPref.ACTI] = val;
				break;
			case VoluniAppPref.HIDE:
				msg[VoluniAppPref.HIDE] = val;
				break;
			case VoluniAppPref.BTT:
				if($("input:checkbox[name=btt]")[0].checked)
					val = VoluniAppPref.BTT_ON;
				else
					val = VoluniAppPref.BTT_OFF;
				msg[VoluniAppPref.BTT] = val;
				break;
			case VoluniAppPref.ADAP:
				if($("input:checkbox[name=adap]")[0].checked)
					val = VoluniAppPref.ADAP_ON;
				else
					val = VoluniAppPref.ADAP_OFF;
				msg[VoluniAppPref.ADAP] = val;
				break;
			}
			
			chrome.extension.sendRequest(msg);
		}
	</script>
</head>
<body>
	<form>
	<table width="100%" border="0">
  	<tbody>
  	<tr>
    <th class="volCol" colspan="3" scope="row">VoluniAPP v2.0</th>
    </tr>
  	<tr>
    <th class="volCol" scope="row">On/Off</th>
    	<td><input type="radio" name="acti" onclick="setPref('acti','_a_')">On</td>
    	<td><input type="radio" name="acti" onclick="setPref('acti','_d_')"> Off</td>
  	</tr>
  	<tr>
    <th class="volCol" scope="row">Show/Hide</th>
    	<td><input type="radio" name="hide" onclick="setPref('hide','_a_')">Auto</td>
    	<td><input type="radio" name="hide" onclick="setPref('hide','_s_')">alt+v</td>
  	</tr>
  	<tr>
    <th class="volCol" scope="row">Volunia Button</th>
    	<td><input type="checkbox" name="btt" onclick="setPref('btt',null)">Show VoluniApp button in www.volunia.com</td>
  	</tr>
  	<tr>
    <th class="volColEx" scope="row">Adapt Content [experimental]</th>
    	<td><input type="checkbox" name="adap" onclick="setPref('adap',null)">Adapt Content</td>
  	</tr>
	</tbody>
	</table>
	</form>
	
	<script>
  		if(localStorage.acti == VoluniAppPref.ACTI_ACTIVE)
  			$('input:radio[name=acti]')[0].checked = true;
  		else
  			$('input:radio[name=acti]')[1].checked = true;
  		
  		if(localStorage.hide == VoluniAppPref.HIDE_AUTO)
  			$('input:radio[name=hide]')[0].checked = true;
  		else
  			$('input:radio[name=hide]')[1].checked = true;
  		
  		if(localStorage.adap == VoluniAppPref.ADAP_ON)	
  			$("input:checkbox[name=adap]")[0].checked = true;
  		else
  			$("input:checkbox[name=adap]")[0].checked = false;
  			
  		if(localStorage.btt == VoluniAppPref.BTT_ON)	
  			$("input:checkbox[name=btt]")[0].checked = true;
  		else
  			$("input:checkbox[name=btt]")[0].checked = false;
	</script>
</body>
</html>